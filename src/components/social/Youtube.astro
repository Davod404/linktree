---
import FINAL_URL from "../../constants/Youtube";
import CustomArrow from "../CustomArrow.astro";
import YoutubeIcon from "../icons/YoutubeIcon.astro";

export const prerender = false;

const response = await fetch(FINAL_URL);
const { title, id } = await response.json();
---

<article
  class="circle group block text-white blur-effect border-2 border-[#3D2D42] col-span-5 relative min-h-[150px] rounded-[24px] overflow-hidden"
>
  <a href=`https://www.youtube.com/watch?v=${id}` target="_blank">
    <div class="flex items-center w-full h-full p-6">
      <div class="w-full h-full flex flex-col justify-center s-4">
        <p class="text-white text-2xl font-bold">Último vídeo</p>
        <div class="flex items-center gap-x-4">
          <div class="text-white underline font-semibold text-xl">{title}</div>
          <CustomArrow />
        </div>
      </div>

      <YoutubeIcon width="64px" height="48px" />

      <div
        style=`background-image: url(https://img.youtube.com/vi/${id}/hqdefault.jpg); background-repeat: no-repeat; opacity: 0.1; background-size: cover; background-position: center;`
        class="absolute top-0 z-10 w-full h-full"
      >
      </div>
    </div>
  </a>
</article>
